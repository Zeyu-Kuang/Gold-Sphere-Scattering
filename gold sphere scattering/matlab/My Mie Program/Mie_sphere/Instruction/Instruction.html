<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (en-US, MWS); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="893"/>

<div>
<span><div><b><u>28/2/2017</u></b></div><div>I worked on refining this program the whole day. A new version has been made which can import different materials, output different Mie efficiencies and the accuracy, along with more descriptions.</div><ul><li><b>Folder</b>: First, I organized the folder a little bit. Because I keep changing the program, now I classify my work into different versions. Bigger the version number is, the better performance. Besides my own program, all downloaded have been stored at a separate folder.</li><li><b>My Mie program overview:</b><ul><li>version 0: It can only generate one curve depicting the relation between Absorption and incident wavelength. And the m is fixed to one constant.</li><li>version 1: The biggest improvement is that the relative refractive index m is a function of wavelength, which gives accurate result. It has two scripts, the first plots the most simple relation between absorption efficiency and wavelength, the other gives different relation curve of different a, which is the radius of the sphere.</li><li><b>version 2</b>: This is so far the most functional, compact version. It can plot figures with multi variables, detailed description with the ability to examine its accuracy.
<ul><li>Files: it contains six .m files and one folder contains the refractive index of few types of material. The four .m files can be further classified as one script and five functions. I'll explain them one by one.
<ul><li><i>Refractive_index_data:</i> this is a folder, which contains information about the complex refractive index of materials. The format of those index .txt files should be strictly complied. If new material are added into this folder as a text file. The filename must be like this  'Lambda_N1_N2_MaterialName.txt'. And the content should have three columns. Lambda is the first, followed by the real and imaginary part of the complex refractive index, separated by space.</li><li><i>Mie_abcd.m:</i> This function will return the Mie coefficients to the file <i>Mie.m</i></li><li><i>Mie.m:</i> This function will asking function <i>Mie_abcd  </i>for Mie coefficients and returns the calculated Mie efficiency Q (at certain wavelength) to file <i>Q_vs_wavelength.m</i></li><li><i>Q_vs_wavelength.m:</i> This function is for generating a vector of Q, given a vector of wavelength of incident light, by means of constantly invoking function <i>Mie</i> to compute the Mie efficiency Q for every wavelength.</li><li><i>plot_Q.m:</i> This is the main script. Being the most important script, its job includes: set initial parameter, test_accuracy option, load material data, determine the output Q , plot Q for different a (n_medium fixed), plot Q for different n_medium (a fixed), and last but not least, decorating the figures.</li><li><i>Mie_abs.m, Mie_Esquare:</i> This two functions are only used for the test-accuracy mode. Specifically, when the test_accuracy in the main script <i>plot_Q.m</i> is set to 1, the <i>Mie_abs</i> function will be invoked by the <i>Mie.m</i>. It calculates the absorption efficient by calling function <i>Mie_Esquare</i> for the inside field, and returns it to <i>Mie.m.</i> Then the absorption efficient obtained from <i>Mie_abs</i> will be compared with the original one. At last, the output of <i>Mie</i> function would be the difference between two methods, which will be plot in a same way as test-accuracy=0.</li></ul></li><li>Handbook: 
<ul><li>Adding material into material folder
<ul><li>Go to website <a href="https://refractiveindex.info/"></a><a href="https://refractiveindex.info/"><span style="color: rgb(0, 0, 0);">https://refractiveindex.info/</span></a></li><li>Choose a material and download the 'full database record'</li><li>rename the downloaded .txt file and edit the content as instruction above.</li></ul></li><li>Plotting Mie efficiencies vs. wavelength figure under various conditions:
<ol><li>set sphere radius <b>a</b> with a unit of um. (default a=0.5)</li><li>set the absolute refractive index of the medium <b>n_medium</b>. (default n_medium=1.3)</li><li>set the vacuum wavelength range of the incident light: <b>lambda_0_start</b> and <b>lambda_0_end</b> with a unit of um. (default wavelength_0_start=0.4, wavelength_0_end=1)</li><li>set the number of points to plot each figure <b>N</b>. (default N=20)</li><li>choose the name of material <b>Material</b> from the material database. (default Material='Au')</li><li>choose the name of dependent variable <b>dependent_variable</b> you wish to display. (default dependent_variable='Qabs')</li><li>set <b>test_accuracy</b>=0;</li><li>run the script </li><li>you would get a figure like <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">[e-Figure 10]</span></li><li>note: Having run the program, you would get a prompt informing you of the widest range of the incident wavelength. This limitation comes from the lack of data for such material in the material folder. The input wavelength should lie inside this range.</li></ol></li><li>Test accuracy for your result:
<ol><li>Keep everything the same, except changing <b>test_accuracy</b> to 1.</li><li>run the script again</li><li>you would get a figure like <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">[e-Figure 11]</span> (The default resolution for test-accuracy mode was set to low because the function <i>Mie_abs is time-consuming)</i></li><li>note: the accuracy only considers the imperfection of the algorithm for a given (m,k), which has nothing to do with the interpolation for the material data.</li></ol></li><li>Sources of error
<ol><li>the existence of n_max, which means only a limited harmonic waves were considered. (This can be evaluated by the test-accuracy)</li><li>the interpolation of the data. Because the data downloaded from the website was discrete. Interpolation method must be applied if a continuous relation was asked. In this program, spline interpolation was chose.</li></ol></li></ul></li></ul></li></ul></li></ul><div><br/></div><div><br/></div><ul><li>version 3 updata:
<ol><li>fixed the biggest bug, which calculated the refractive index from the wavelength of the incident light in the water. This is wrong. Now the wavelength used to extract the refractive index is the light wavelength in the vacuum.</li><li>changed input a (radius) to d (diameter), along with the legend.</li><li>There is an added script <i>Verify.m,</i> which computes the Absolute absorption cross section vs. wavelength. This is for comparing with a figure I found online to verify my program. </li></ol></li><li>Results:
<ol><li>This is how the figure looks like now after running the script <i>plot_Q.m</i> <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">[</span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">e-</span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">Figure13]</span>: as you can see, the peak of resonance is already around the 500nm which agrees with the experiment and literatures that I've seen.</li><li>Run script <i>Verify.m</i>, you will see [<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">e-Figure 14</span>], this can be used to compare with the [<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">e-</span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">Figure 15</span>], which I found on the website <a href="http://nanocomposix.eu/pages/gold-nanoparticles-optical-properties"><span style="color: rgb(0, 0, 0);">http://nanocomposix.eu/pages/gold-nanoparticles-optical-properties</span></a>. You cannot tell the difference, can you. hhhhh</li></ol></li></ul><div><br/></div><div><br/></div><div><b><u>6/3/2017</u></b></div><div>Searching more samples of cross section vs. wavelength to testify my result.</div><div>I've found another one, which varies the medium index to obtain different extinction cross section for gold sphere at 100nm diameter.</div><div>My result is [<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">e-Figure 22</span>], the result from the website <a href="http://nanocomposix.eu/pages/gold-nanoparticles-optical-properties">http://nanocomposix.eu/pages/gold-nanoparticles-optical-properties</a> is [<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">e-Figure 23</span>]. The same.</div><div>Two matlab programs to draw the verification are named Verify_1.m and Verify_2.m, Verify_1 for [<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">e-Figure 14</span>], Verify_2 for [<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">e-Figure 22</span>].</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><u><br/></u></div></span>
</div></body></html> 